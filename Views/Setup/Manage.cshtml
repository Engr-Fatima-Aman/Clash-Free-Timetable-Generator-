@model dsa_project.Models.ManageViewModel

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center bg-light p-3 rounded shadow-sm mb-4">
        <h2 class="mb-0 text-dark">‚öôÔ∏è Manage Timetable Data</h2>
        <div class="btn-group shadow-sm">
            <a href="/Setup/AddCourse" class="btn btn-primary">Add Course</a>
            <a href="/Setup/AddTeacher" class="btn btn-primary">Add Teacher</a>
            <a href="/Setup/AddRoom" class="btn btn-primary">Add Room</a>
            <a href="/Setup/AddClass" class="btn btn-success">+ Add Class</a>
        </div>
    </div>

    <section class="mb-5">
        <h3 class="text-primary border-bottom pb-2">üìö Courses</h3>
        <div class="table-responsive">
            <table class="table table-bordered table-hover shadow-sm">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th><th>Title</th><th>Cr. Hours</th><th>Category</th><th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var c in Model.Courses) {
                        <tr>
                            <td><strong>@c.Id</strong></td>
                            <td>@c.Title</td>
                            <td>@c.CreditHours</td>
                            <td>
                                <span class="badge @(c.IsLab ? "bg-warning text-dark" : "bg-info text-dark")">
                                    @(c.IsLab ? "LAB (3h)" : "THEORY")
                                </span>
                            </td>
                            <td>
                                <a asp-action="DeleteCourse" asp-route-id="@c.Id" class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete this course?')">Delete</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </section>

    <section class="mb-5">
        <h3 class="text-primary border-bottom pb-2">üë®‚Äçüè´ Teachers</h3>
        <table class="table table-bordered table-hover shadow-sm">
            <thead class="table-primary">
                <tr>
                    <th>ID</th><th>Name</th><th>Type</th><th>Assigned Course IDs</th><th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var t in Model.Teachers) {
                    <tr>
                        <td>@t.Id</td>
                        <td>@t.Name</td>
                        <td><small class="text-muted">@t.TeacherType</small></td>
                        <td>
                            @if(t.AssignedCourseIds != null) {
                                @foreach(var id in t.AssignedCourseIds) {
                                    <span class="badge bg-secondary">#@id</span>
                                }
                            }
                        </td>
                        <td>
                            <a asp-action="DeleteTeacher" asp-route-id="@t.Id" class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete teacher?')">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </section>

    <section class="mb-5">
        <h3 class="text-primary border-bottom pb-2">üè´ Rooms</h3>
        <table class="table table-bordered table-hover shadow-sm">
            <thead class="table-success">
                <tr>
                    <th>ID</th><th>Room #</th><th>Capacity</th><th>Room Type</th><th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var r in Model.Rooms) {
                    <tr>
                        <td>@r.Id</td>
                        <td>@r.RoomNumber</td>
                        <td>@r.Capacity seats</td>
                        <td>
                            <span class="badge @(r.IsLabRoom ? "bg-danger" : "bg-success")">
                                @(r.IsLabRoom ? "LABORATORY" : "CLASSROOM")
                            </span>
                        </td>
                        <td>
                            <a asp-action="DeleteRoom" asp-route-id="@r.Id" class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete room?')">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </section>

    <section class="mb-5">
        <h3 class="text-primary border-bottom pb-2">üë• Class Sections</h3>
        <table class="table table-bordered table-hover shadow-sm">
            <thead class="table-info">
                <tr>
                    <th>ID</th><th>Name</th><th>Sem</th><th>Sec</th><th>Total Std.</th><th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var cl in Model.Classes) {
                    <tr>
                        <td>@cl.Id</td>
                        <td>@cl.Name</td>
                        <td>@cl.Semester</td>
                        <td>@cl.Section</td>
                        <td>@cl.TotalStudents</td>
                        <td>
                            <a asp-action="DeleteClass" asp-route-id="@cl.Id" class="btn btn-sm btn-danger" onclick="return confirm('Delete class?')">Delete</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </section>
</div>